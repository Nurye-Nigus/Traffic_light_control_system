{% extends 'base_with_buttons.html' %}

{% block title %}DISPLAY{% endblock %}

{% block content %}
<style>
    body {
        background-color: #8B4513; /* Brown background */
        margin: 0; /* Remove default margin */
        padding: 0; /* Remove default padding */
    }
    .container {
        max-width: 800px;
        margin: 20px auto; /* Center the container */
        padding: 20px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        overflow: hidden; /* Hide overflow for animations */
    }
    h1 {
        text-align: center;
        color: #333;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        border-radius: 10px;
        overflow: hidden; /* Hide overflow for animations */
        transition: transform 0.3s ease; /* Add transition for smooth movement */
    }
    th, td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    th {
        background-color: #f2f2f2;
    }
    .junction-name {
        font-weight: bold;
    }
    .car-count {
        color: #007bff;
    }
    tr:hover {
        background-color: #f5f5f5; /* Change background color on hover */
    }
    tr:hover td {
        color: #333; /* Change text color on hover */
    }
    table:hover {
        transform: translate(5px, -5px); /* Move the table slightly */
    }
</style>

<div class="container">
    <h1>{{ squireName }} Car Prediction Results</h1>
    <table id="carPredictionTable">
        <tr>
            <th>Junction Name</th>
            <th>Predicted Cars</th>
        </tr>
    </table>
</div>

<script>
  // Retrieve data from query parameters
  const urlParams = new URLSearchParams(window.location.search);
  const squireName = urlParams.get('squireName');
  const junctions = urlParams.get('junctions');
  const mapLocation = urlParams.get('mapLocation');

  // Display squire name
  document.querySelector('h1').innerText = `${squireName} Car Prediction Results`;

  // Dynamically generate table rows based on junctions
  const table = document.getElementById('carPredictionTable');
  const junctionList = junctions.split(', ');
  junctionList.forEach(junction => {
    const row = table.insertRow();
    row.innerHTML = `<td class="junction-name">${junction}</td><td class="car-count">${getRandomNumber()}</td>`;
  });

  // Function to generate random car count (for demonstration purposes)
  function getRandomNumber() {
    return Math.floor(Math.random() * 200) + 50; // Generates a random number between 50 and 250
  }
</script>
{% endblock %}
